
//========================================================================================================

// Gebruiker Centraal - 50-header-logo-menu.less
// ----------------------------------------------------------------------------------
// bevat CSS voor de header en het logo
// ----------------------------------------------------------------------------------
// @package gebruiker-centraal
// @author  Paul van Buuren
// @license GPL-2.0+
// @version 3.22.2
// @desc.   Option for Twitter-account per site. CSS bugfixes for IE11 (step table and menu hover).
// @link    https://github.com/ICTU/gebruiker-centraal-wordpress-theme

//========================================================================================================

@maxwidth_wraps:	1180px;
@inputwidthsearch:	( @widget_area_button - 2px );
@extra:				15px;

.header-logo() {
	
	@keyframes colorchange {
		0%		{
			background-size: @logo_desktop_width @logo_desktop_height;		
		}
		100%	{ 
			background-size: ( @logo_desktop_width + @extra ) ( @logo_desktop_height + @extra );
		}
	}

	.site-header .wrap, 
	.nav-primary #mainnav {
	    max-width: @maxwidth_wraps;
		@media only screen and ( min-width: @break_show_menu_button ) and ( max-width: ( @maxwidth_wraps - 1px ) ) {
			padding-left: 2rem;
			padding-right: 2rem;
		}
	}
	
	.site-header {
	    background-color: @header_bg_color;
	    

		.title-area {

		    a {
				display: inline-block;

				&:before {
					content: ' ';
					display: inline-block;
					float: left;

					width: @logo_mobile_width;
					height: @logo_mobile_height;

					background: transparent url('images/logos/logo-gebruikercentraal.png') repeat left top;
					background-image: url('images/logos/logo-gebruikercentraal.svg'), '';
					background-repeat: no-repeat;
					background-position: center center;

				}

				color: @wit;
				overflow: hidden;
				text-decoration: none;
				
				&:hover,
				&:focus,
				&:active {
					&:before {
						animation: colorchange .1s; 
						background-size: ( @logo_desktop_width + @extra ) ( @logo_desktop_height + @extra );
					}
				}
			   
			   
				//----------------------------------------------------------------------------
			  
				@media only screen and ( max-width: @break_show_menu_button ) {
					&:before {
						background-size: @logo_mobile_width @logo_mobile_height;
						margin-top: .5em;
						width: @logo_mobile_width;
						height: @logo_mobile_height;
					}		
				}		
				  
				//----------------------------------------------------------------------------
			  
				@media only screen and ( min-width: @break_show_menu_button ) {

transform: translateX( ( -1 * ( @extra / 2 ) ) );
margin-top: .5rem;

					&:before {
						background-size: @logo_desktop_width @logo_desktop_height;
						width: ( @logo_desktop_width + @extra );
						height: ( @logo_desktop_height + @extra );
						margin-right: .25em;
					}		
		
				}		
				  
				//----------------------------------------------------------------------------
			   
				&:hover,
				&:focus,
				&:active {
				   span {
					   border-color: @wit;
				   }
			    }
			    
				&.no-description {
					.blog-name {
						line-height: ( @logo_desktop_height + @extra );
						padding: 0;
					}
					span {
						border-bottom-style: none;
					}
				    &:hover,
				    &:active,
				    &:focus {
					    &, span {
							text-decoration: underline;
					    }
					}
				}
		    }

			&.inclusie {
			    a:before {
					background-image: url('images/logos/logo-inclusie.svg');
				}
			}

			&.rotterdammercentraal {
			    a:before {
					background-image: url('images/logos/logo-rotterdammercentraal.svg');
				}
			}
	    }
	}

    .site-title {
	    display: inline-block;
	    float: left;
	    padding: 0;
	    margin: 0;
    }
    
    .blog-name,
    .blog-description {
	    display: inline-block;
	    border-bottom: 1px solid transparent;
	    padding-top: 2px;
	    padding-bottom: 2px;
//	    background: green;
    }

	@media only screen and ( max-width: @break_show_menu_button ) {
		.blog-name,
		.site-title-description {
			.visuallyhidden();
		}
    }

	@media only screen and ( min-width: @break_show_menu_button ) {

		.site-title-description {
			float: left;
			display: block;
			overflow: hidden;

			&.met {
			    .blog-name {
					margin-top: 12px;
				}    
			}    
			&.zonder {
			    .blog-name {
					margin-top: 22px;
				}    
			}    
		}    

	    .blog-name {
			text-transform: uppercase;
	    }

	    .blog-name {
			// hugely on non-mobile
			font-family: @headerfont;
			.fontsize( 42 );
			word-break: break-word;
			white-space: nowrap;
			hyphens: none;
			padding-top: 2px;
			line-height: 36px;
		}	    
	    .blog-description {
			font-family: @bodyfont;
			.fontsize( 12 );
			display: inline-block;
			transform: translateY(-4px);
			line-height: 15px;
	    }
		
    }
    
	.site-description {
		  
		//--------------------------------------------------------------------------------
		
		@media only screen and ( max-width: @break_show_menu_button ) {
			// hide on mobile
			.visuallyhidden();
		}		
		  
		//--------------------------------------------------------------------------------
		
		@media only screen and ( min-width: @break_show_menu_button ) {
			// visible on mobile
			background: @header_bg_color;
			display: inline-block;
			padding-left: .5em;
			padding-right: .5em;
			margin-left: @logo_desktop_padding;
			transform: translateX(-.5em);
		}		
		  
		//--------------------------------------------------------------------------------
		
	}

	#zoeken {
		border: 1px solid #6F99A3; // @wit;
		position: relative;
		height: @widget_area_button;
		  
		//--------------------------------------------------------------------------------
		
		@media only screen and ( max-width: @break_show_menu_button ) {
			float: left;
			margin-top: 1.8rem;
		}		
		  
		//--------------------------------------------------------------------------------
		
		@media only screen and ( min-width: @break_show_menu_button ) {
			margin-top: 2.5rem;
			float: right;
			width: 24.58333333rem; // 295px
		}		
		  
		//--------------------------------------------------------------------------------
		
		&:focus-within {
			background-color: @wit;

			input[type="search"] {
				background-color: @wit;
				color: @txt;

				&:placeholder,
				&::-webkit-input-placeholder,
				&:-moz-placeholder { 
					color: @txt_grijs;
				}
				&:focus {
					&:placeholder,
					&::-webkit-input-placeholder,
					&:-moz-placeholder { 
						color: @wit;
					}
				}
			}
		}


		input[type="search"] {
		    background-color: @header_bg_color;
			color: @wit;
			outline: none;
			border-style: none;
			margin-left: 0;
			margin-right: 0;
			position: absolute;
			top: 0;
			bottom: 0;
			left: 0;
			width: ~"calc(100% - @{inputwidthsearch})";
			line-height: 38px;
			box-shadow: none;
			padding-left: 1.5rem;
			font-family: @montserrat_semibold;		
			height: 38px;
			
			&::placeholder { 
				color: @wit !important;
			}
			&:focus {
				background-color: @wit;
				box-shadow: inset 0 0 4px #aaaaaa;
			}

			//----------------------------------------------------------------------------
			
			@media only screen and ( max-width: @break_show_menu_button ) {
			}			
		  

			//----------------------------------------------------------------------------
			
			@media only screen and ( max-width: @break_show_menu_button ) {
				width: ~"calc(99% - @{widget_area_button})";
				right: @widget_area_button;
			}			
		  
			//----------------------------------------------------------------------------
			
		}
		

		input[type="submit"] {
		    border-color: @header_bg_color;
		    background-color: @header_bg_color;
		    .pijltje_wit('../images/vergrootglas.svg', @wit);
			background-position: center center;
			background-repeat: no-repeat;
			text-indent: -999em;
			width: ( @widget_area_button - 0 );
			padding: 0;
			position: absolute;
			top: 0;
			bottom: 0;

			@media only screen and ( max-width: @break_show_menu_button ) {
				margin-right: 0;
				right: 0;
			}			
			@media only screen and ( min-width: @break_show_menu_button ) {
				right: 2px;
			}			
			
			&:focus {
				background-color: @wit;
				border-color: @txt;
				outline: none;
			    .pijltje_wit('../images/vergrootglas.svg', @txt);
			}
		}
	}
}

//========================================================================================================

.menustyling() {
	

	//------------------------------------------------------------------------------------
	
	@media only screen and ( max-width: @break_show_menu_button ) {

		.site-container.menuopen {
		    position: relative;
		    overflow: hidden;
		    overflow-y: scroll;
		}	

		#maincontent.menuopen {
			transform: translateX( @mainmenu_mobile_width );
			transition: opacity 400ms, width 0.1s 400ms, height 0.1s 400ms;
		}

		.site-header.menu-met-js.active {
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			z-index: 9999;
		}

		.admin-bar .site-header.menu-met-js.active {
			top: 96px;
		}
		
	}

	//------------------------------------------------------------------------------------

	
	.nav-primary {

		padding-top: 2.4rem;
		padding-bottom: 2.4rem;

	    a {
			color: @nav_a_color;
			font-family: @montserrat_semibold;		    
			text-decoration: none;
	    }
	    ul {
		    padding-left: 0;
		    &, li {
			    list-style: none;
			    margin-left: 0;
		    }
		    ul {
			    margin-bottom: 0;
		    }
	    }

	    #mainnav {
		    margin-left: auto;
		    margin-right: auto;
			min-height: 32px;
	    }

		//--------------------------------------------------------------------------------
		@media only screen and ( max-width: @break_show_menu_button ) {

		    background-color: @header_bg_color;
			
			&.active {
				position: absolute;
				width: @mainmenu_mobile_width;
				top: 70px;
				left: 0;
				z-index: 500;
			}

			li {
				border-bottom: 2px solid @nav_wrap_bg;

				ul li {
					border-bottom-style: none;
					a {
						margin: 2px;
					}
				}
			}			
			
			a {
				display: block;
				padding-left: 2rem;
				padding-top: .5em;
				padding-bottom: .5em;
				
				&:hover,
				&:focus,
				&:active {
					background-color: @nav_wrap_bg;
					outline: 2px solid lighten( @nav_wrap_bg, 20% );
				}
			}

			ul ul li {
				a {
					padding-left: 4rem;
					background-image: url('images/pijltje-wit.svg');
					background-repeat: no-repeat;
					background-position: 1.2rem center;
					background-size: 20px 20px;
					font-family: @bodyfont;
				}

				&:last-of-type {
					border-bottom-style: none;
				}
			}
		}	  
		  
		//--------------------------------------------------------------------------------
		
		@media only screen and ( min-width: @break_show_menu_button ) {

		    background-color: @nav_wrap_bg;
		    
		    ul.menu-primary {
			    min-height: 32px;
			    margin-top: 0;
			    margin-bottom: 0;
		    }

		    a {
				border-bottom: 4px solid @nav_wrap_bg;
				padding: 2px 1px;
	
				&:hover,
				&:active,
				&:focus {
					border-color: @a_menu_hover_border;
				}
		    }

		    li {
			    display: inline-block;
			    float: left;
			    margin-right: 3.666rem; // etwa 46px
				padding: 2px 1px;

	
				.sub-menu {
					left: -9999px;
					opacity: 0;
					position: absolute;
					width: 25rem; // @submenu_desktop_width;
					z-index: 999;
				    margin-bottom: 0;
				    margin-top: 0;
				    padding-top: 2.5rem;
				    background-color: transparent;
				    border-bottom: 1rem solid @header_bg_color;
//border: 10px solid yellow;
				    
				    &:before {
					    content: ' ';
					    display: block;
					    background: @header_bg_color;
					    width: 2.666666667rem; // 32px;
					    height: 2.666666667rem; // 32px;
					    transform: rotateZ(45deg);
					    z-index: -1;
					    position: absolute;
					    margin-left: -22px;
					    left: 50%;
					    top: 1.333rem;
				    }
					
					li {
					    border-top: 1rem solid @header_bg_color;
						border-bottom-style: none;
						display: block;
						float: none;
						margin-right: 0;
						padding-left: 0;
						padding-right: 0;
						padding-top: 0;
						padding-bottom: 0;
						
						& + li {
							border-top-style: none;
						}
						
						a {
							display: block;
							float: none;
						}
					}
				}
	
				&.menu-item {
					&:hover,
					&.sfHover {
						.show_submenu();
					}
					&:focus-within {
						.show_submenu();
					}
				}

				&.current-page-ancestor,
				&.current-menu-ancestor,
				&.current-menu-parent,
				&.current-page-parent,
				&.current_page_parent,
				&.current_page_ancestor {
					& > a {
						border-color: @a_menu_hover_border;
					}	
				}
				
				a[aria-current="page"] {
					border-color: @a_menu_hover_border;
				}

				&.menu-item-has-children {
					
					span[itemprop="name"] {
						padding-right: 1.833rem; // etwa 22px
						position: relative;
	
						&:after {
							content: ' ';
							background-image: url('images/pijltje-wit-down.svg');
							background-repeat: no-repeat;
							background-position: center center;
							background-size: 12px 12px;
							color: white;
							display: block;
							width: 12px;
							height: 12px;
							position: absolute;
							right: 0;
							top: 6px;
						}
					}
					.sub-menu {
						a {
							padding-left: 2em;
							padding-right: .5em;
							background: @header_bg_color;
							background-image: url('images/pijltje-wit.svg');
							background-repeat: no-repeat;
							background-position: .75rem 1.25rem; // 0.5833333333rem 0.9166666667rem; // 7px 11px;
							background-size: 1.666666667rem 1.666666667rem; //20px 20px;
							border-bottom-style: none;
							font-family: @bodyfont;
							padding-top: .5em;
							padding-bottom: .5em;
							
							&:hover,
							&:active,
							&:focus {
								background-color: @nav_wrap_bg;
								text-decoration: underline;
							}
						}
						span[itemprop="name"] {
							padding-right: 0;
							&:after {
								content: '';
								display: none;
							}
						}
					}
				}
		    }			
		}	    

		@media only screen and ( min-width: @break_show_menu_button ) and ( max-width: ( @maxwidth_wraps + 75px ) ) {

			ul.menu-primary li:first-of-type {

		  		&.sfHover,
				&.menu-item:hover {
					& > .sub-menu {
						left: 0;
						transform: none;
					}
				}

				&.menu-item:focus-within {
					& > .sub-menu {
						left: 0;
						transform: none;
					}
				}

				.sub-menu {
				    &:before {
					    left: 38px;
					}
				}
			}
		}	    
		  
		//--------------------------------------------------------------------------------
		
	}
	
	#menu-button {
		border-style: none;
		background: @header_bg_color;
		margin-right: 1rem;
		margin-top: 1.8rem;
		height: ( @widget_area_button + 2px );
		padding: 0;
		text-align: right;
		font-family: @bodyfont;
		text-transform: none;
		letter-spacing: normal;
		font-size: 1.4rem;
		position: relative;
		height: ( @widget_area_button - 2px );
		transform: translateY(1px);
		
		&:hover,
		&:active,
		&:focus {
			outline: 1px solid @wit;
			
			&, * {
				color: @wit;
				text-decoration: none;
			}
		}

		i,
		b {
			
		}
		
		i {
			font-style: normal;
			font-size: 3.8rem;
			line-height: 1;
			position: absolute;
			left: 10px;
			top: 0;
			&.close {
				top: -1px;
				font-size: 50px;
				line-height: 38px;
			}
		}	
		b {
			display: inline-block;
			line-height: 2.8;
			position: absolute;
			top: 0;
			left: 38px;
			text-transform: capitalize;
		}
	}
}

//========================================================================================================


.admin-bar {
	.nav-primary {
		@media only screen and ( max-width: @break_show_menu_button ) {
			&.active {
				top: 120px; // 70px + admin-bar
			}
		}
	}
}
 
